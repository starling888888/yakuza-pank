# 機能仕様: [機能名]

**機能ブランチ**: `[###-feature-name]`  
**作成日**: [日付]  
**ステータス**: ドラフト  
**入力**: ユーザーの説明: "$ARGUMENTS"

## 実行フロー (メイン)
```
1. 入力からユーザーの説明を解析
   → 空の場合: エラー "機能の説明が提供されていません"
2. 説明から主要な概念を抽出
   → 識別: アクター、アクション、データ、制約
3. 不明確な各側面について:
   → [要明確化: 具体的な質問] でマーク
4. ユーザーシナリオとテストセクションを記入
   → 明確なユーザーフローがない場合: エラー "ユーザーシナリオを決定できません"
5. 機能要件を生成
   → 各要件はテスト可能でなければならない
   → 曖昧な要件をマーク
6. 主要エンティティを識別 (データが関与する場合)
7. レビューチェックリストを実行
   → [要明確化] がある場合: 警告 "仕様には不確実性があります"
   → 実装の詳細が見つかった場合: エラー "技術的な詳細を削除してください"
8. 戻り値: 成功 (仕様は計画の準備ができています)
```

---

## ⚡ クイックガイドライン
- ✅ ユーザーが何を必要とし、なぜそれを必要とするかに焦点を当てる
- ❌ 実装方法 (技術スタック、API、コード構造なし) を避ける
- 👥 開発者ではなく、ビジネス関係者向けに書かれている

### セクション要件
- **必須セクション**: すべての機能で完了する必要がある
- **オプションセクション**: 機能に関連する場合にのみ含める
- セクションが適用されない場合は、完全に削除する ("N/A" として残さない)

### AI生成用
ユーザープロンプトからこの仕様を作成する場合:
1. **すべての曖昧さをマークする**: 仮定する必要がある場合は、[要明確化: 具体的な質問] を使用する
2. **推測しない**: プロンプトで何かが指定されていない場合 (例: 認証方法のない「ログインシステム」)、それをマークする
3. **テスターのように考える**: すべての曖昧な要件は、「テスト可能で曖昧でない」チェックリスト項目に失敗する必要がある
4. **一般的な不特定領域**:
   - ユーザーの種類と権限
   - データ保持/削除ポリシー  
   - パフォーマンターゲットと規模
   - エラー処理の動作
   - 統合要件
   - セキュリティ/コンプライアンスのニーズ

---

## ユーザーシナリオとテスト *(必須)*

### 主要なユーザーストーリー
[主要なユーザーの行程を平易な言葉で説明]

### 受け入れシナリオ
1. **前提** [初期状態], **いつ** [アクション], **そのとき** [期待される結果]
2. **前提** [初期状態], **いつ** [アクション], **そのとき** [期待される結果]

### エッジケース
- [境界条件] の場合はどうなりますか?
- システムは [エラーシナリオ] をどのように処理しますか?

## 要件 *(必須)*

### 機能要件
- **FR-001**: システムは [特定機能、例: 「ユーザーがアカウントを作成できるようにする」] **必要があります**
- **FR-002**: システムは [特定機能、例: 「メールアドレスを検証する」] **必要があります**  
- **FR-003**: ユーザーは [主要な操作、例: 「パスワードをリセットできる」] **必要があります**
- **FR-004**: システムは [データ要件、例: 「ユーザー設定を永続化する」] **必要があります**
- **FR-005**: システムは [動作、例: 「すべてのセキュリティイベントをログに記録する」] **必要があります**

*不明確な要件をマークする例:*
- **FR-006**: システムは [要明確化: 認証方法が指定されていません - メール/パスワード、SSO、OAuth?] を介してユーザーを認証する **必要があります**
- **FR-007**: システムは [要明確化: 保持期間が指定されていません] の間、ユーザーデータを保持する **必要があります**

### 主要エンティティ *(機能にデータが含まれる場合に含める)*
- **[エンティティ1]**: [それが何を表すか、実装なしの主要な属性]
- **[エンティティ2]**: [それが何を表すか、他のエンティティとの関係]

---

## レビューと受け入れチェックリスト
*ゲート: main() 実行中に実行される自動チェック*

### コンテンツの品質
- [ ] 実装の詳細 (言語、フレームワーク、API) がない
- [ ] ユーザー価値とビジネスニーズに焦点を当てている
- [ ] 非技術的な関係者向けに書かれている
- [ ] すべての必須セクションが完了している

### 要件の完全性
- [ ] [要明確化] マーカーが残っていない
- [ ] 要件はテスト可能で曖昧でない  
- [ ] 成功基準は測定可能である
- [ ] スコープが明確に区切られている
- [ ] 依存関係と仮定が特定されている

---

## 実行ステータス
*処理中に main() によって更新*

- [ ] ユーザーの説明が解析された
- [ ] 主要な概念が抽出された
- [ ] 曖昧さがマークされた
- [ ] ユーザーシナリオが定義された
- [ ] 要件が生成された
- [ ] エンティティが特定された
- [ ] レビューチェックリストに合格した

---