# 実装計画: TRPGルールブックサイトの基本レイアウト

**ブランチ**: `001-trpg-web-markdown` | **日付**: 2025-09-23 | **仕様**: [spec.md](./spec.md)
**入力**: `/specs/001-trpg-web-markdown/spec.md`からの機能仕様

## 概要
TRPGルールブックを公開するための、パフォーマンスを重視した静的ウェブサイトを構築する。機能仕様に基づき、レスポンシブ対応の基本レイアウト（ヘッダー、フッター、ナビゲーション）、Markdown/MDXによるコンテンツ表示、およびReactコンポーネントの埋め込み機能を実現する。技術スタックには、静的サイト生成に最適化されたAstroフレームワークを採用する。

## 実行ルール
- **タスクごとの確認**: 1つのタスクが完了するたびに、ユーザーに作業内容の確認を求め、コミットを促す。

## 技術的コンテキスト
**言語/バージョン**: JavaScript/TypeScript (Astro経由), Node.js v18+
**主要依存関係**: Astro, React, Tailwind CSS, Biome
**ストレージ**: なし (コンテンツはGitリポジトリ内の.mdxファイルとして管理)
**テスト**: Playwright (E2Eテスト), Vitest (単体テスト)
**ターゲットプラットフォーム**: 静的ウェブホスティング (GitHub Pages)
**プロジェクトタイプ**: ウェブ (静的サイト)
**パフォーマンス目標**: First Contentful Paint (FCP) < 1.8s, Largest Contentful Paint (LCP) < 2.5s (Core Web Vitalsの「良好」基準)
**制約**: サーバーサイドの動的処理は行わない。ビルド時にすべてのページが生成される。
**規模/範囲**: 数十〜数百ページのルールブックを想定。

## 憲法チェック
*ゲート: フェーズ0の調査前に合格する必要があります。フェーズ1の設計後に再チェックしてください。*

*   **原則I (MVP)**: ✅ 合格。機能は基本的なレイアウトとコンテンツ表示に限定されている。
*   **原則II (静的サイト優先)**: ✅ 合格。Astroの採用により、完全な静的サイトとして設計されている。
*   **原則III (テスト)**: ✅ 合格。タスク計画にE2Eテストと単体テストの導入が含まれている。
*   **原則IV (コンポーネント)**: ✅ 合格。AstroとReactのコンポーネントベース設計を採用している。
*   **原則V (自動デプロイ)**: ✅ 合格。タスク計画にGitHub Actionsによる自動デプロイ設定が含まれている。

## プロジェクト構造

### ドキュメント (この機能)
```
specs/001-trpg-web-markdown/
├── plan.md              # このファイル
├── research.md          # フェーズ0成果物
├── data-model.md        # フェーズ1成果物
├── quickstart.md        # フェーズ1成果物
├── contracts/           # フェーズ1成果物
└── tasks.md             # フェーズ2成果物
```

### ソースコード (リポジトリルート)
```
# Astroプロジェクト構造
src/
├── components/      # 再利用可能なUIコンポーネント (Astro, React)
├── content/         # Markdown/MDXコンテンツ (Content Collections)
├── layouts/         # ページ全体のレイアウト
├── pages/           # ルーティングとページ
├── styles/          # グローバルCSS
└── config/          # サイト設定ファイル

tests/
├── e2e/             # Playwright E2Eテスト
└── unit/            # Vitest 単体テスト
```

**構造決定**: Astroの標準的なプロジェクト構造を採用する。

## 進捗追跡
*このチェックリストは実行フロー中に更新されます*

**フェーズステータス**:
- [x] フェーズ0: 調査完了 (/plan コマンド)
- [x] フェーズ1: 設計完了 (/plan コマンド)
- [x] フェーズ2: タスク計画完了 (/plan コマンド)
- [ ] フェーズ3: タスク生成 (/tasks コマンド)
- [ ] フェーズ4: 実装完了
- [ ] フェーズ5: 検証合格

---
*憲法v0.1.0に基づく - `/.specify/memory/constitution.md`を参照*